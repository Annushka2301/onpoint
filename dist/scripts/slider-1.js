const slider=document.querySelector(".slider"),sliderList=slider.querySelector(".slider__list"),sliderTrack=slider.querySelector(".slider__track"),slides=slider.querySelectorAll(".slider__slide"),home=document.querySelector(".header__btn"),next=slider.querySelector(".slide-1__btn");let slideWidth=slides[0].offsetWidth,slideIndex=0,posInit=0,posX1=0,posX2=0,posY1=0,posY2=0,posFinal=0,isSwipe=!1,isScroll=!1,allowSwipe=!0,transition=!0,nextTrf=0,prevTrf=0;const lastTrf=--slides.length*slideWidth,posThreshold=.35*slides[0].offsetWidth,trfRegExp=/([-0-9.]+(?=px))/;let swipeStartTime,swipeEndTime;const animation=document.querySelectorAll(".slide-2__img"),modal=document.querySelector(".modal");function getEvent(){return-1!==event.type.search("touch")?event.touches[0]:event}function slide(){if(transition&&(sliderTrack.style.transition="transform .5s"),sliderTrack.style.transform=`translate3d(-${slideIndex*slideWidth}px, 0px, 0px)`,1===slideIndex)for(let e=0;e<animation.length;e++)animation[e].classList.add("appear");else for(let e=0;e<animation.length;e++)animation[e].classList.remove("appear");2!==slideIndex&&(modal.style="display: none")}function swipeStart(){let e=getEvent();allowSwipe&&(swipeStartTime=Date.now(),transition=!0,nextTrf=(slideIndex+1)*-slideWidth,prevTrf=(slideIndex-1)*-slideWidth,posInit=posX1=e.clientX,posY1=e.clientY,sliderTrack.style.transition="",document.addEventListener("touchmove",swipeAction),document.addEventListener("mousemove",swipeAction),document.addEventListener("touchend",swipeEnd),document.addEventListener("mouseup",swipeEnd),sliderList.classList.remove("grab"),sliderList.classList.add("grabbing"))}function swipeAction(){let e=getEvent(),s=+sliderTrack.style.transform.match(trfRegExp)[0];if(posX2=posX1-e.clientX,posX1=e.clientX,posY2=posY1-e.clientY,posY1=e.clientY,!isSwipe&&!isScroll){let e=Math.abs(posY2);e>7||0===posX2?(isScroll=!0,allowSwipe=!1):e<7&&(isSwipe=!0)}if(isSwipe){if(0===slideIndex){if(posInit<posX1)return void setTransform(s,0);allowSwipe=!0}if(slideIndex===--slides.length){if(posInit>posX1)return void setTransform(s,lastTrf);allowSwipe=!0}if(posInit>posX1&&s<nextTrf||posInit<posX1&&s>prevTrf)return void reachEdge();sliderTrack.style.transform=`translate3d(${s-posX2}px, 0px, 0px)`}}function swipeEnd(){posFinal=posInit-posX1,isScroll=!1,isSwipe=!1,document.removeEventListener("touchmove",swipeAction),document.removeEventListener("mousemove",swipeAction),document.removeEventListener("touchend",swipeEnd),document.removeEventListener("mouseup",swipeEnd),sliderList.classList.add("grab"),sliderList.classList.remove("grabbing"),allowSwipe?(swipeEndTime=Date.now(),(Math.abs(posFinal)>posThreshold||swipeEndTime-swipeStartTime<300)&&(posInit<posX1?slideIndex--:posInit>posX1&&slideIndex++),posInit!==posX1?(allowSwipe=!1,slide()):allowSwipe=!0):allowSwipe=!0}function setTransform(e,s){e>=s&&e>s&&(sliderTrack.style.transform=`translate3d(${s}px, 0px, 0px)`),allowSwipe=!1}function reachEdge(){transition=!1,swipeEnd(),allowSwipe=!0}sliderTrack.style.transform="translate3d(0px, 0px, 0px)",sliderList.classList.add("grab"),sliderTrack.addEventListener("transitionend",(()=>allowSwipe=!0)),slider.addEventListener("touchstart",swipeStart),slider.addEventListener("mousedown",swipeStart),home.addEventListener("click",(function(){slideIndex=0,slide()})),next.addEventListener("click",(function(){slideIndex=1,slide()}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlci0xLmpzIl0sIm5hbWVzIjpbInNsaWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNsaWRlckxpc3QiLCJzbGlkZXJUcmFjayIsInNsaWRlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJob21lIiwibmV4dCIsInNsaWRlV2lkdGgiLCJvZmZzZXRXaWR0aCIsInNsaWRlSW5kZXgiLCJwb3NJbml0IiwicG9zWDEiLCJwb3NYMiIsInBvc1kxIiwicG9zWTIiLCJwb3NGaW5hbCIsImlzU3dpcGUiLCJpc1Njcm9sbCIsImFsbG93U3dpcGUiLCJ0cmFuc2l0aW9uIiwibmV4dFRyZiIsInByZXZUcmYiLCJsYXN0VHJmIiwibGVuZ3RoIiwicG9zVGhyZXNob2xkIiwidHJmUmVnRXhwIiwic3dpcGVTdGFydFRpbWUiLCJzd2lwZUVuZFRpbWUiLCJhbmltYXRpb24iLCJtb2RhbCIsImdldEV2ZW50IiwiZXZlbnQiLCJ0eXBlIiwic2VhcmNoIiwidG91Y2hlcyIsInNsaWRlIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJpIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwic3dpcGVTdGFydCIsImV2dCIsIkRhdGUiLCJub3ciLCJjbGllbnRYIiwiY2xpZW50WSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzd2lwZUFjdGlvbiIsInN3aXBlRW5kIiwibWF0Y2giLCJwb3NZIiwiTWF0aCIsImFicyIsInNldFRyYW5zZm9ybSIsInJlYWNoRWRnZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb21hcHJlVHJhbnNmb3JtIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFTQyxTQUFTQyxjQUFjLFdBQ2hDQyxXQUFhSCxPQUFPRSxjQUFjLGlCQUNsQ0UsWUFBY0osT0FBT0UsY0FBYyxrQkFDbkNHLE9BQVNMLE9BQU9NLGlCQUFpQixrQkFDakNDLEtBQU9OLFNBQVNDLGNBQWMsZ0JBQzlCTSxLQUFPUixPQUFPRSxjQUFjLGlCQUNsQyxJQUFJTyxXQUFhSixPQUFPLEdB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V0FBV3NDLFVBQVVFLE9BQU8sWUFFeEJ2QixZQUNGUyxhQUFlaUIsS0FBS0MsT0FDaEJRLEtBQUtDLElBQUl2QyxVQUFZUyxjQUFnQkcsYUFBZUQsZUFBaUIsT0FDbkVoQixRQUFVQyxNQUNaRixhQUNTQyxRQUFVQyxPQUNuQkYsY0FHQUMsVUFBWUMsT0FDZE8sWUFBYSxFQUNiaUIsU0FFQWpCLFlBQWEsR0FJZkEsWUFBYSxFQUlqQixTQUFTcUMsYUFBYWxCLEVBQVdxQixHQUMzQnJCLEdBQWFxQixHQUNYckIsRUFBWXFCLElBQ2R4RCxZQUFZa0MsTUFBTUMsVUFBWSxlQUFlcUIsa0JBR2pEeEMsWUFBYSxFQUdmLFNBQVNzQyxZQUNQckMsWUFBYSxFQUNiK0IsV0FDQWhDLFlBQWEsRUFHZmhCLFlBQVlrQyxNQUFNQyxVQUFZLDZCQUM5QnBDLFdBQVdzQyxVQUFVQyxJQUFJLFFBRXpCdEMsWUFBWThDLGlCQUFpQixpQkFBaUIsSUFBTTlCLFlBQWEsSUFDakVwQixPQUFPa0QsaUJBQWlCLGFBQWNOLFlBQ3RDNUMsT0FBT2tELGlCQUFpQixZQUFhTixZQUVyQ3JDLEtBQUsyQyxpQkFBaUIsU0FBUyxXQUM3QnZDLFdBQWEsRUFDYjBCLFdBR0Y3QixLQUFLMEMsaUJBQWlCLFNBQVMsV0FDN0J2QyxXQUFhLEVBQ2IwQiIsImZpbGUiOiJzbGlkZXItMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXInKTtcbmNvbnN0IHNsaWRlckxpc3QgPSBzbGlkZXIucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fbGlzdCcpO1xuY29uc3Qgc2xpZGVyVHJhY2sgPSBzbGlkZXIucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fdHJhY2snKTtcbmNvbnN0IHNsaWRlcyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyX19zbGlkZScpO1xuY29uc3QgaG9tZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J0bicpO1xuY29uc3QgbmV4dCA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuc2xpZGUtMV9fYnRuJyk7XG5sZXQgc2xpZGVXaWR0aCA9IHNsaWRlc1swXS5vZmZzZXRXaWR0aDtcbmxldCBzbGlkZUluZGV4ID0gMDtcbmxldCBwb3NJbml0ID0gMDtcbmxldCBwb3NYMSA9IDA7XG5sZXQgcG9zWDIgPSAwO1xubGV0IHBvc1kxID0gMDtcbmxldCBwb3NZMiA9IDA7XG5sZXQgcG9zRmluYWwgPSAwO1xubGV0IGlzU3dpcGUgPSBmYWxzZTtcbmxldCBpc1Njcm9sbCA9IGZhbHNlO1xubGV0IGFsbG93U3dpcGUgPSB0cnVlO1xubGV0IHRyYW5zaXRpb24gPSB0cnVlO1xubGV0IG5leHRUcmYgPSAwO1xubGV0IHByZXZUcmYgPSAwO1xuY29uc3QgbGFzdFRyZiA9IC0tc2xpZGVzLmxlbmd0aCAqIHNsaWRlV2lkdGg7XG5jb25zdCBwb3NUaHJlc2hvbGQgPSBzbGlkZXNbMF0ub2Zmc2V0V2lkdGggKiAwLjM1O1xuY29uc3QgdHJmUmVnRXhwID0gLyhbLTAtOS5dKyg/PXB4KSkvO1xubGV0IHN3aXBlU3RhcnRUaW1lO1xubGV0IHN3aXBlRW5kVGltZTtcbmNvbnN0IGFuaW1hdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZS0yX19pbWcnKTtcbmNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJyk7XG5cbmZ1bmN0aW9uIGdldEV2ZW50KCkge1xuICByZXR1cm4gKGV2ZW50LnR5cGUuc2VhcmNoKCd0b3VjaCcpICE9PSAtMSkgPyBldmVudC50b3VjaGVzWzBdIDogZXZlbnQ7XG59O1xuXG5mdW5jdGlvbiBzbGlkZSgpIHtcbiAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAuNXMnO1xuICB9XG4gIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgtJHtzbGlkZUluZGV4ICogc2xpZGVXaWR0aH1weCwgMHB4LCAwcHgpYDtcblxuICBpZiAoc2xpZGVJbmRleCA9PT0gMSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW5pbWF0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhbmltYXRpb25baV0uY2xhc3NMaXN0LmFkZCgnYXBwZWFyJyk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuaW1hdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgYW5pbWF0aW9uW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FwcGVhcicpO1xuICAgIH07XG4gIH07XG5cbiAgaWYgKHNsaWRlSW5kZXggIT09IDIpIG1vZGFsLnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmUnO1xuXG59O1xuXG5mdW5jdGlvbiBzd2lwZVN0YXJ0KCkge1xuICBsZXQgZXZ0ID0gZ2V0RXZlbnQoKTtcblxuICBpZiAoYWxsb3dTd2lwZSkge1xuXG4gICAgc3dpcGVTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgdHJhbnNpdGlvbiA9IHRydWU7XG5cbiAgICBuZXh0VHJmID0gKHNsaWRlSW5kZXggKyAxKSAqIC1zbGlkZVdpZHRoO1xuICAgIHByZXZUcmYgPSAoc2xpZGVJbmRleCAtIDEpICogLXNsaWRlV2lkdGg7XG5cbiAgICBwb3NJbml0ID0gcG9zWDEgPSBldnQuY2xpZW50WDtcbiAgICBwb3NZMSA9IGV2dC5jbGllbnRZO1xuXG4gICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNpdGlvbiA9ICcnO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgc3dpcGVBY3Rpb24pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHN3aXBlQWN0aW9uKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHN3aXBlRW5kKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3dpcGVFbmQpO1xuXG4gICAgc2xpZGVyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdncmFiJyk7XG4gICAgc2xpZGVyTGlzdC5jbGFzc0xpc3QuYWRkKCdncmFiYmluZycpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBzd2lwZUFjdGlvbigpIHtcblxuICBsZXQgZXZ0ID0gZ2V0RXZlbnQoKTtcblxuICBsZXQgc3R5bGUgPSBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2Zvcm07XG4gIGxldCB0cmFuc2Zvcm0gPSArc3R5bGUubWF0Y2godHJmUmVnRXhwKVswXTtcblxuICBwb3NYMiA9IHBvc1gxIC0gZXZ0LmNsaWVudFg7XG4gIHBvc1gxID0gZXZ0LmNsaWVudFg7XG5cbiAgcG9zWTIgPSBwb3NZMSAtIGV2dC5jbGllbnRZO1xuICBwb3NZMSA9IGV2dC5jbGllbnRZO1xuXG4gIGlmICghaXNTd2lwZSAmJiAhaXNTY3JvbGwpIHtcbiAgICBsZXQgcG9zWSA9IE1hdGguYWJzKHBvc1kyKTtcbiAgICBpZiAocG9zWSA+IDcgfHwgcG9zWDIgPT09IDApIHtcbiAgICAgIGlzU2Nyb2xsID0gdHJ1ZTtcbiAgICAgIGFsbG93U3dpcGUgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHBvc1kgPCA3KSB7XG4gICAgICBpc1N3aXBlID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKGlzU3dpcGUpIHtcbiAgICBpZiAoc2xpZGVJbmRleCA9PT0gMCkge1xuICAgICAgaWYgKHBvc0luaXQgPCBwb3NYMSkge1xuICAgICAgICBzZXRUcmFuc2Zvcm0odHJhbnNmb3JtLCAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxsb3dTd2lwZSA9IHRydWU7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBpZiAoc2xpZGVJbmRleCA9PT0gLS1zbGlkZXMubGVuZ3RoKSB7XG4gICAgICBpZiAocG9zSW5pdCA+IHBvc1gxKSB7XG4gICAgICAgIHNldFRyYW5zZm9ybSh0cmFuc2Zvcm0sIGxhc3RUcmYpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGxvd1N3aXBlID0gdHJ1ZTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGlmIChwb3NJbml0ID4gcG9zWDEgJiYgdHJhbnNmb3JtIDwgbmV4dFRyZiB8fCBwb3NJbml0IDwgcG9zWDEgJiYgdHJhbnNmb3JtID4gcHJldlRyZikge1xuICAgICAgcmVhY2hFZGdlKCk7XG4gICAgICByZXR1cm47XG4gICAgfTtcblxuICAgIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3RyYW5zZm9ybSAtIHBvc1gyfXB4LCAwcHgsIDBweClgO1xuICB9O1xuXG59O1xuXG5mdW5jdGlvbiBzd2lwZUVuZCgpIHtcbiAgcG9zRmluYWwgPSBwb3NJbml0IC0gcG9zWDE7XG5cbiAgaXNTY3JvbGwgPSBmYWxzZTtcbiAgaXNTd2lwZSA9IGZhbHNlO1xuXG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHN3aXBlQWN0aW9uKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgc3dpcGVBY3Rpb24pO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHN3aXBlRW5kKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHN3aXBlRW5kKTtcblxuICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5hZGQoJ2dyYWInKTtcbiAgc2xpZGVyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdncmFiYmluZycpO1xuXG4gIGlmIChhbGxvd1N3aXBlKSB7XG4gICAgc3dpcGVFbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBpZiAoTWF0aC5hYnMocG9zRmluYWwpID4gcG9zVGhyZXNob2xkIHx8IHN3aXBlRW5kVGltZSAtIHN3aXBlU3RhcnRUaW1lIDwgMzAwKSB7XG4gICAgICBpZiAocG9zSW5pdCA8IHBvc1gxKSB7XG4gICAgICAgIHNsaWRlSW5kZXgtLTtcbiAgICAgIH0gZWxzZSBpZiAocG9zSW5pdCA+IHBvc1gxKSB7XG4gICAgICAgIHNsaWRlSW5kZXgrKztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBvc0luaXQgIT09IHBvc1gxKSB7XG4gICAgICBhbGxvd1N3aXBlID0gZmFsc2U7XG4gICAgICBzbGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGxvd1N3aXBlID0gdHJ1ZTtcbiAgICB9XG5cbiAgfSBlbHNlIHtcbiAgICBhbGxvd1N3aXBlID0gdHJ1ZTtcbiAgfVxufTtcblxuZnVuY3Rpb24gc2V0VHJhbnNmb3JtKHRyYW5zZm9ybSwgY29tYXByZVRyYW5zZm9ybSkge1xuICBpZiAodHJhbnNmb3JtID49IGNvbWFwcmVUcmFuc2Zvcm0pIHtcbiAgICBpZiAodHJhbnNmb3JtID4gY29tYXByZVRyYW5zZm9ybSkge1xuICAgICAgc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7Y29tYXByZVRyYW5zZm9ybX1weCwgMHB4LCAwcHgpYDtcbiAgICB9XG4gIH1cbiAgYWxsb3dTd2lwZSA9IGZhbHNlO1xufTtcblxuZnVuY3Rpb24gcmVhY2hFZGdlKCkge1xuICB0cmFuc2l0aW9uID0gZmFsc2U7XG4gIHN3aXBlRW5kKCk7XG4gIGFsbG93U3dpcGUgPSB0cnVlO1xufTtcblxuc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKDBweCwgMHB4LCAwcHgpJztcbnNsaWRlckxpc3QuY2xhc3NMaXN0LmFkZCgnZ3JhYicpO1xuXG5zbGlkZXJUcmFjay5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgKCkgPT4gYWxsb3dTd2lwZSA9IHRydWUpO1xuc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzd2lwZVN0YXJ0KTtcbnNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzd2lwZVN0YXJ0KTtcblxuaG9tZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICBzbGlkZUluZGV4ID0gMDtcbiAgc2xpZGUoKTtcbn0pO1xuXG5uZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIHNsaWRlSW5kZXggPSAxO1xuICBzbGlkZSgpO1xufSk7XG4iXX0=
